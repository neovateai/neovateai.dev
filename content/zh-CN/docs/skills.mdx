import { Callout } from 'nextra/components';

# 技能

技能是 AI 代理按需调用的**可复用能力**。它们将指令、专业知识和工具打包成轻量级的包。

**核心特性:**

- **模型调用** – Neovate 根据任务自动决定何时使用，无需输入命令
- **可组合** – 可以作为更大工作流的一部分链式调用
- **Token 高效** – 轻量且专注

## 什么是技能?

技能是一个**目录**，包含:

- 带有 YAML 元数据和 Markdown 指令的 `SKILL.md`
- 可选的支持文件（脚本、模式、检查清单）

每个技能定义了它解决什么问题、需要什么输入以及成功的标准。

## 文件位置

| 作用域 | 位置 | 用途 |
|-------|------|------|
| **插件** | 通过 `skill` 钩子由插件提供 | 与 npm 包捆绑的技能 |
| **工作区** | `.neovate/skills/<skill-name>/` | 与团队成员共享的项目技能；提交到 git |
| **个人** | `~/.neovate/skills/<skill-name>/` | 跨项目使用的私人技能 |

<Callout type="info">
  为了兼容性，也支持 `.claude/skills/` 作为别名。
</Callout>

### 加载优先级

技能按以下顺序加载，后面的来源会覆盖前面的：

1. **插件** – 由插件提供的技能（最低优先级）
2. **配置** – 通过 `skills` 配置选项指定的技能
3. **全局 (~/.claude/)** – 旧版全局技能
4. **全局 (~/.neovate/)** – 个人全局技能
5. **项目 (.claude/)** – 旧版项目技能
6. **项目 (.neovate/)** – 项目特定技能（最高优先级）

## 技能文件格式

技能使用带有 YAML 元数据的 Markdown 定义:

```md
---
name: summarize-diff
description: 用 3-5 个要点总结暂存的 git diff。当用户询问待提交更改的摘要时使用。
---

# 总结 Diff

## 指令

1. 运行 `git diff --staged`。
2. 用 3-5 个要点总结更改，重点关注用户可见的行为。
3. 指出任何迁移、风险区域或应该运行的测试。
```

`name` 和 `description` 字段是必需的。Neovate 使用描述来决定何时应用该技能。

## 支持文件

每个技能文件夹可以包含支持工具:

- `SKILL.md` – 主要技能规范

## 技能作为斜杠命令

技能也可以直接作为斜杠命令调用。当技能被加载时，它会自动使用其名称注册为斜杠命令（例如，名为 `frontend-design` 的技能变成 `/frontend-design`）。

**要点：**
- 技能仅在没有同名命令时才注册为命令
- 命令描述会显示"(global skill)"或"(project skill)"以指示来源
- 技能支持参数占位符：`$1`、`$2`、`$3` 等用于单个参数，或 `$ARGUMENTS` 用于所有参数

## 技能与其他配置的区别

| 配置 | 用途 | 何时运行 |
|-----|------|---------|
| **技能** | 模型调用的专业知识 | 模型在相关时选择，或用户输入 `/skill-name` |
| **规则 (AGENTS.md)** | 项目级指令 | 加载到每次对话 |
| **斜杠命令** | 用户调用的宏 | 输入 `/command` 运行 |

## CLI 命令

通过命令行管理技能：

```bash
# 从 GitHub 安装技能
neovate skill add user/repo

# 从子路径安装
neovate skill add user/repo/path/to/skill

# 交互式选择要安装的技能
neovate skill add -i user/repo

# 全局安装（在所有项目中可用）
neovate skill add -g user/repo

# 安装到 Claude 技能目录
neovate skill add --claude user/repo

# 使用自定义名称安装
neovate skill add --name my-skill user/repo

# 覆盖现有技能
neovate skill add --overwrite user/repo

# 列出所有已安装的技能
neovate skill list

# 以 JSON 格式列出
neovate skill list --json

# 删除技能
neovate skill remove my-skill

# 删除全局技能
neovate skill remove -g my-skill
```

| 选项 | 描述 |
|------|------|
| `-g, --global` | 安装到/从全局技能目录删除 |
| `-i, --interactive` | 交互式选择要安装的技能 |
| `--claude` | 安装到 Claude 技能目录 (.claude/skills) |
| `--overwrite` | 覆盖同名的现有技能 |
| `--name <name>` | 使用自定义名称安装 |
| `--target <dir>` | 技能的自定义目标目录 |
| `--json` | 以 JSON 格式输出列表 |

## 配置

您可以在配置文件中指定额外的技能路径：

```json
{
  "skills": [
    "/path/to/custom/SKILL.md",
    "/path/to/skills/directory"
  ]
}
```

每个条目可以是 `SKILL.md` 文件的路径或包含该文件的目录。详情请参阅[设置](./settings)。
