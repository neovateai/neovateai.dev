import { Callout } from 'nextra/components';

# Subagents

Subagents are **autonomous agents** that can handle complex, multi-step tasks. They run in a loop, using tools and making decisions until they complete their assigned task or fail.

**Key properties:**

- **Autonomous** – They plan and execute multiple steps without user intervention
- **Specialized** – Each agent can have specific tools, permissions, and system prompts
- **Isolated** – They run in a separate context, keeping your main conversation clean

## Built-in Subagents

Neovate comes with three powerful built-in agents:

- **Explore** – Specialized in exploring codebases. It can quickly find files, search code, and answer questions about the project structure.
- **GeneralPurpose** – A versatile agent for researching complex questions or executing multi-step tasks where the path isn't clear from the start.
- **neovate-code-guide** – A helper agent for answering questions about Neovate Code itself - its features, configuration, MCP servers, settings, and how to use it effectively.

## Creating Custom Subagents

You can create your own subagents to automate specific workflows. A subagent is defined by a Markdown file with YAML frontmatter.

### File Locations

| Scope | Location | Purpose |
|-------|----------|---------|
| **Project** | `.neovate/agents/<agent-name>.md` | Project-specific agents shared with the team |
| **Personal** | `~/.neovate/agents/<agent-name>.md` | Private agents available across all your projects |

<Callout type="info">
  For compatibility, `.claude/agents/` is also supported.
</Callout>

### Agent File Format

Create a markdown file (e.g., `code-reviewer.md`) in one of the agent directories:

```md
---
name: code-reviewer
description: Review code changes for security and style issues. Use when the user asks for a code review.
tools: read, glob, grep
model: claude-3-5-sonnet-20241022
---

You are an expert code reviewer.
Your goal is to review the code changes and provide feedback.

Follow these steps:
1. Read the changed files.
2. Analyze for security vulnerabilities.
3. Check for code style violations.
4. Provide a summary of your findings.
```

**Frontmatter Fields:**

- `name` (required): The unique identifier for the agent (used in `subagent_type`).
- `description` (required): When this agent should be used. Neovate uses this to decide when to launch it.
- `tools` (optional): Comma-separated list of tools this agent can use (e.g., `read, write, bash`).
- `disallowedTools` (optional): Comma-separated list of tools this agent CANNOT use.
- `model` (optional): The model to use (e.g., `claude-3-5-sonnet-20241022`). Defaults to `inherit` (uses the main agent's model).
- `forkContext` (optional): Whether to give the subagent access to the main conversation history. Default is `false`.
- `color` (optional): Color for the agent's output in the UI.

The body of the markdown file becomes the **System Prompt** for the agent.

## Using Subagents

Neovate will automatically recommend using a subagent when your request matches its description.

You can also explicitly ask Neovate to use a specific agent:

> "Use the code-reviewer agent to check my changes."

## Comparison with Skills

| Feature | Skills | Subagents |
|---------|--------|-----------|
| **Nature** | Single capability/tool | Autonomous agent loop |
| **Complexity** | Simple, atomic actions | Complex, multi-step workflows |
| **State** | Stateless | Maintains its own conversation history |
| **Tools** | Can use other tools | Can use a restricted set of tools |
